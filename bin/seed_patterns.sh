#!/bin/bash

url=${1:-http://127.0.0.1:8080/api/patterns}
echo "Creating seed patterns at $url..."

curl -k -H "Content-Type: application/json" -X POST -d '{"name":"Domain Name","description":"Domain name (without the http(s):// and without any path.","regex_string":"([a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\\.[a-zA-Z]{2,})+)","testdata":"www.google.com\nhttp://dosomething.com/whatever\nhttps://it.sc.it","testresult":"www.google.com\ndosomething.com"}' $url
curl -k -H "Content-Type: application/json" -X POST -d '{"name":"IPv4 Address","description":"Internet Protocol Version 4 address regular expression.","regex_string":"((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))","testdata":"1.2.3.4\n100.200.300.400\n1.0.0.0\n255.255.255.255\n1.1.1.1\n","testresult":"1.2.3.4\n1.0.0.0\n255.255.255.255\n1.1.1.1"}' $url
curl -k -H "Content-Type: application/json" -X POST -d '{"name":"MAC Address","description":"A simple MAC address regex in colon separator form","regex_string":"(([A-Fa-f0-9]{2}[:]){5}[A-Fa-f0-9]{2}[,]?)+","testdata":"AA:BB:CC:DD:EE:FF\nA:B:C:D:E:F\nA:B:C:D:E:F:G\nAA:BB:CC:DD:EE:FF:GG","testresult":"AA:BB:CC:DD:EE:FF\nAA:BB:CC:DD:EE:FF"}' $url
curl -k -H "Content-Type: application/json" -X POST -d '{"name":"Email Address","description":"Email address regex","regex_string":"([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)","testdata":"test@gmail.com\n1.email.com\n1@@gamil.com\n1@gcom\njon.smith@foo.bar.com","testresult":"test@gmail.com\njon.smith@foo.bar.com"}' $url
curl -k -H "Content-Type: application/json" -X POST -d '{"name":"FQDN","description":"Fully qualified domain names including http:// and paths.","regex_string":"(https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*))","testdata":"https://www.google.com/search\nhttp://foo.bar.com/a/path/to/something","testresult":"https://www.google.com/search\nhttp://foo.bar.com/a/path/to/something"}' $url
curl -k -H "Content-Type: application/json" -X POST -d '{"name":"Telephone Number","description":"Generic telephone number regex.","regex_string":"([\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6})","testdata":"(123) 456-7890\n123-456-7890\n123.456.7890\n1234567890\n+31636363634\n075-63546725","testresult":"(123) 456-7890\n123-456-7890\n123.456.7890\n1234567890\n+31636363634\n075-63546725"}' $url
curl -k -H "Content-Type: application/json" -X POST -d '{"name":"US Telephone Number","description":"Common United States telephone number expression","regex_string":"((\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4})","testdata":"(123) 456-7890\n123-456-7890\n123.456.7890\n1234567890\n+31636363634\n075-63546725","testresult":"(123) 456-7890\n123-456-7890"}' $url
